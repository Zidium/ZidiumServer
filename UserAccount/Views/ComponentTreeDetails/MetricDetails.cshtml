@using Zidium.UserAccount.Models.ComponentTreeDetails

@model MetricDetailsModel

<div id="object-details-caption">
    <a href="@Url.Action("Show", "Metrics", new { id = Model.Id })" target="_blank" class="text-normal">@Model.Name</a> 
    
    @if (Model.CanEdit)
    {
        <a href="@Url.Action("Edit", "Metrics", new {id = Model.Id})" target="_blank" class="text-muted" id="edit-object-link" title="Настроить метрику">
            <span class="glyphicon glyphicon-edit"></span>
        </a>
    }    
    
    <a href="#" id="update-panel-link" class="text-muted" title="Обновить данные">
        <span class="glyphicon glyphicon-refresh"></span>
    </a>
</div>

<hr class="object-details-hr" />

<div id="metric-details-container" class="tree-details-container">
    <div class="tree-details-menu">
        <div class="tree-details-menu-item" data-group="metric-state">
            <a href="#" title="Текущее состояние">
                <span class="glyphicon glyphicon-info-sign"></span>
            </a>
        </div>
        <div class="tree-details-menu-item" data-group="metric-history">
            <a href="#" title="История">
                <span class="glyphicon glyphicon-signal"></span>
            </a>
        </div>
        <div class="tree-details-menu-item" data-group="metric-values">
            <a href="#" title="Значения">
                <span class="glyphicon glyphicon-list"></span>
            </a>
        </div>
    </div>
    
    <div class="tree-details-main-area">
        <div class="tree-details-content collapse" data-group="metric-state">
            <div class="tree-details-content-caption">Текущее состояние</div>
            <div class="smart-block" data-url="@Url.Action("MetricDetailsState", new {id = Model.Id})"></div>
        </div>
        <div class="tree-details-content collapse" data-group="metric-history">
            <div class="tree-details-content-caption">История</div>
            <div class="smart-block" data-url="@Url.Action("MetricDetailsHistory", new {id = Model.Id})"></div>
        </div>
        <div class="tree-details-content collapse" data-group="metric-values">
            <div class="tree-details-content-caption">Значения</div>
            <div class="smart-block" data-url="@Url.Action("MetricDetailsValues", new {id = Model.Id})"></div>
        </div>
    </div>
</div>